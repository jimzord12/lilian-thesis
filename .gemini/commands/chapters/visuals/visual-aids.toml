description = "Analyze a chapter to recommend visual aids (Figures and Tables) based on specific quantities."

prompt = """
# Visual Aids Recommendation Task

@{docs/AI-related/agents/academic-editor/index.md}

## 0. Argument Validation
**Rule:** You must receive exactly 3 arguments: [Chapter Number] [Image Quantity] [Table Quantity].
If `{{args}}` does not contain 3 space-separated values, **HALT** and ask the user for the correct format: `/chapters:visual-aids [Chapter] [Images] [Tables]`.

## 1. Parameter Extraction
First, extract the task parameters from the arguments `{{args}}`:
- **Chapter Number**: `run_shell_command(command="/home/jimzord-linux/projects/github/lilian/lilian-thesis/.gemini/scripts/parse_visual_aids_args.sh '{{args}}' --chapter")`
- **Target Image Quantity (X)**: `run_shell_command(command="/home/jimzord-linux/projects/github/lilian/lilian-thesis/.gemini/scripts/parse_visual_aids_args.sh '{{args}}' --images")`
- **Target Table Quantity (Y)**: `run_shell_command(command="/home/jimzord-linux/projects/github/lilian/lilian-thesis/.gemini/scripts/parse_visual_aids_args.sh '{{args}}' --tables")`

## 2. Content Loading
Load the completed English markdown file for the identified Chapter.
Path: `chapters/Chapter-[Chapter Number]/gr/Chapter [Chapter Number]_*.md`

## 3. Analysis & Recommendation
Analyze the loaded chapter content to identify dense technical sections that would benefit from visual representation.

### Constraints
- **Evidence-Based:** Use `google_web_search` to validate data points and technical accuracy.
- **Academic Standard:** Adhere to APA style for captions and labels.
- **Hardware Accuracy:** Ensure descriptions match physical hardware mentioned (e.g., Banana Pro, LoRaWAN).

### Output Format
Strictly follow this structure for your recommendations:

<image_recommendations quantity="X">
*For each recommendation:*
- **Location:** Section Number & Title.
- **Placement:** Precise insertion point.
- **Type:** e.g., Block Diagram, System Architecture, Flowchart.
- **Visual Description:** Detailed prompt for a designer, including components, flow, and style.
- **Caption:** **Figure [Number]:** [Title] - [Explanation]. (Source: [Author/Search])
</image_recommendations>

<table_recommendations quantity="Y">
*For each recommendation:*
- **Location:** Section Number & Title.
- **Placement:** Precise insertion point.
- **Finalized Table:** Full Markdown table with fact-checked data.
- **Source Verification:** [Row/Column]: [Citation/Link].
</table_recommendations>

## 4. Asset Prompt Creation

After providing the recommendations in the required XML format, you **MUST** create the asset files following the established directory structure.

### 4.1 Directory Structure
For each chapter, ensure the following structure exists:
```
chapters/Chapter-[N]/gr/assets/
├── images/
│   └── S[N].[Section]/
│       └── [XXX]/          # Zero-padded sequence (001, 002, ...)
│           ├── data.md     # Generation prompt & placement instructions
│           └── image.png   # Generated image (created later)
└── tables/
    └── S[N].[Section]/
        └── [XXX]/          # Zero-padded sequence (001, 002, ...)
            └── table.md    # Full table content in Markdown
```

### 4.2 File Naming Convention
- **Section folders:** `S[ChapterNumber].[SectionNumber]` (e.g., `S2.2`, `S3.5`)
- **Asset folders:** 3-digit zero-padded sequence starting at `001`
- **Image data file:** `data.md`
- **Table data file:** `table.md`

### 4.3 Image `data.md` Template
Each image's `data.md` file must contain:
```markdown
**Location:** Section [N.X] ([Section Title])

**Placement:** [Precise insertion point - e.g., "Insert after the paragraph discussing..."]

**Figure [N.X]:** [Title] - [Detailed explanation of what the figure shows].

**(Greek Version)** Εικόνα [N.X]: [Τίτλος] - [Λεπτομερής εξήγηση του τι απεικονίζει η εικόνα].
---

## Generation Prompt

**Type:** [Block Diagram / System Architecture / Flowchart / Infographic / etc.]

**Style:** [Technical illustration / Schematic / Minimalist / etc.]

**Components to Include:**
- [Component 1]: [Description]
- [Component 2]: [Description]
- [...]

**Visual Flow:** [Describe the layout, connections, hierarchy, or data flow]

**Color Scheme:** [Suggested palette or style guidance]

**Additional Notes:** [Any specific requirements for accuracy or branding]
```

### 4.4 Table `table.md` Template
Each table's `table.md` file must contain:
```markdown
**Location:** Section [N.X] ([Section Title])

**Placement:** [Precise insertion point]

**Table [N.X]:** [Title]

---

## English Version

| Column 1 | Column 2 | Column 3 |
|:---------|:---------|:---------|
| Data     | Data     | Data     |

---

## Greek Version (Ελληνική Έκδοση)

| Στήλη 1 | Στήλη 2 | Στήλη 3 |
|:--------|:--------|:--------|
| Δεδομένα | Δεδομένα | Δεδομένα |

---

## Source Verification
- **[Row/Column]:** [Citation or URL]
- **[Row/Column]:** [Citation or URL]
```

### 4.5 Execution Steps
1. **Create directories:** Ensure all required folders exist using `mkdir -p`.
2. **Create image files:** For each image recommendation, create `data.md` in the appropriate path.
3. **Create table files:** For each table recommendation, create `table.md` with both English and Greek versions.
4. **Verify structure:** List the created files to confirm correct placement.

### 4.6 Example
For Chapter 2, Section 2.3, first image recommendation:
- **Path:** `chapters/Chapter-2/gr/assets/images/S2.3/001/data.md`

For Chapter 2, Section 2.7, first table recommendation:
- **Path:** `chapters/Chapter-2/gr/assets/tables/S2.7/001/table.md`
"""
